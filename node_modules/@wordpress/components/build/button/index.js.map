{"version":3,"sources":["@wordpress/components/src/button/index.js"],"names":["disabledEventsOnDisabledButton","Button","props","ref","href","target","isPrimary","isSmall","isTertiary","isPressed","isBusy","isDefault","isSecondary","isLink","isDestructive","className","disabled","icon","iconPosition","iconSize","showTooltip","tooltipPosition","shortcut","label","children","text","isFocusable","__experimentalIsFocusable","additionalProps","alternative","classes","trulyDisabled","Tag","undefined","tagProps","type","disabledEvent","event","stopPropagation","preventDefault","shouldShowTooltip","length","element"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\n\nconst disabledEventsOnDisabledButton = [ 'onMouseDown', 'onClick' ];\n\nexport function Button( props, ref ) {\n\tconst {\n\t\thref,\n\t\ttarget,\n\t\tisPrimary,\n\t\tisSmall,\n\t\tisTertiary,\n\t\tisPressed,\n\t\tisBusy,\n\t\tisDefault,\n\t\tisSecondary,\n\t\tisLink,\n\t\tisDestructive,\n\t\tclassName,\n\t\tdisabled,\n\t\ticon,\n\t\ticonPosition = 'left',\n\t\ticonSize,\n\t\tshowTooltip,\n\t\ttooltipPosition,\n\t\tshortcut,\n\t\tlabel,\n\t\tchildren,\n\t\ttext,\n\t\t__experimentalIsFocusable: isFocusable,\n\t\t...additionalProps\n\t} = props;\n\n\tif ( isDefault ) {\n\t\tdeprecated( 'Button isDefault prop', {\n\t\t\talternative: 'isSecondary',\n\t\t} );\n\t}\n\n\tconst classes = classnames( 'components-button', className, {\n\t\t'is-secondary': isDefault || isSecondary,\n\t\t'is-primary': isPrimary,\n\t\t'is-small': isSmall,\n\t\t'is-tertiary': isTertiary,\n\t\t'is-pressed': isPressed,\n\t\t'is-busy': isBusy,\n\t\t'is-link': isLink,\n\t\t'is-destructive': isDestructive,\n\t\t'has-text': !! icon && !! children,\n\t\t'has-icon': !! icon,\n\t} );\n\n\tconst trulyDisabled = disabled && ! isFocusable;\n\tconst Tag = href !== undefined && ! trulyDisabled ? 'a' : 'button';\n\tconst tagProps =\n\t\tTag === 'a'\n\t\t\t? { href, target }\n\t\t\t: {\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tdisabled: trulyDisabled,\n\t\t\t\t\t'aria-pressed': isPressed,\n\t\t\t  };\n\n\tif ( disabled && isFocusable ) {\n\t\t// In this case, the button will be disabled, but still focusable and\n\t\t// perceivable by screen reader users.\n\t\ttagProps[ 'aria-disabled' ] = true;\n\n\t\tfor ( const disabledEvent of disabledEventsOnDisabledButton ) {\n\t\t\tadditionalProps[ disabledEvent ] = ( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t};\n\t\t}\n\t}\n\n\t// Should show the tooltip if...\n\tconst shouldShowTooltip =\n\t\t! trulyDisabled &&\n\t\t// an explicit tooltip is passed or...\n\t\t( ( showTooltip && label ) ||\n\t\t\t// there's a shortcut or...\n\t\t\tshortcut ||\n\t\t\t// there's a label and...\n\t\t\t( !! label &&\n\t\t\t\t// the children are empty and...\n\t\t\t\t( ! children ||\n\t\t\t\t\t( isArray( children ) && ! children.length ) ) &&\n\t\t\t\t// the tooltip is not explicitly disabled.\n\t\t\t\tfalse !== showTooltip ) );\n\n\tconst element = (\n\t\t<Tag\n\t\t\t{ ...tagProps }\n\t\t\t{ ...additionalProps }\n\t\t\tclassName={ classes }\n\t\t\taria-label={ additionalProps[ 'aria-label' ] || label }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ icon && iconPosition === 'left' && (\n\t\t\t\t<Icon icon={ icon } size={ iconSize } />\n\t\t\t) }\n\t\t\t{ text && <>{ text }</> }\n\t\t\t{ icon && iconPosition === 'right' && (\n\t\t\t\t<Icon icon={ icon } size={ iconSize } />\n\t\t\t) }\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n\n\tif ( ! shouldShowTooltip ) {\n\t\treturn element;\n\t}\n\n\treturn (\n\t\t<Tooltip\n\t\t\ttext={ label }\n\t\t\tshortcut={ shortcut }\n\t\t\tposition={ tooltipPosition }\n\t\t>\n\t\t\t{ element }\n\t\t</Tooltip>\n\t);\n}\n\nexport default forwardRef( Button );\n"]}